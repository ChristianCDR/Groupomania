<template>
    <logo/>
    <form class="form-1" action="#">
      <h1>Connectez-vous</h1>
      <input v-model="email" placeholder="Adresse e-mailsdfg"/>
      <input v-model="motDePasse" placeholder="Mot de passe"/>
      <button class="btn-1" type="submit" :class="{'disabled':!validatedFields}"  @click="logUserIn"> Se connecter </button>
      <p>Pas encore de compte?<a @click="signUpMode()">Inscrivez-vous </a></p>    
    </form>

    <!--<pageHeader/>--> 
  <router-view/>
</template>

<script>
/*import pageHeader from "../components/header.vue";*/
 import logo from './components/logo.vue';

export default {
  name: ' app',
  components: {
    /*pageHeader*/
    logo
  },
  data: function(){
    return{
    email:"",
    motDePasse:""
    }
  },
  computed:{
    validatedFields: function () {
        if (this.email != "" && this.motDePasse != "") {
          return true;
        } else {
          return false;
        }
    }
  },
  methods:{
    signUpMode: function(){
      this.$router.push('signup');
    },
    logUserIn: function(){
      this.$store.dispatch('logUserIn',{
        email: this.email,
        motDePasse:this.motDePasse
      }).then((response) => {
          console.log(response)
        })
        .catch((error)=>{
          console.log(error);
        })
    }
  }
}
</script>

<style>

  body{
    margin:0;
  }
  .login{
    width:80vw;
    margin: auto;
  }
  svg{
    width: 100%;
    margin-top:20%;   
  }
  form{
    border: black 2px solid;
    height: 350px;
    width: 310px;
    margin: 20px auto;
    border-radius: 15px;
    display:flex;
    flex-direction: column;
    justify-content:;
    backgroung-color: red;
  }
  .form-2 {
    height: 500px;
  }
  form *{
    margin: auto;
    margin-top: 10px;
    margin-bottom: 10px;
    
  }
  input,button{
    height: 40px;
    width: 95%;
    border: 2px solid #000;
    border-radius: 5px;
  }
  .btn-1{
    background-color: #1877f2;
  }
 .btn-2{
    background-color: #42b72a;
  }
  button{
    color: #fff;
  }
  button.disabled{
    background-color: #848682;
  }
  p,h1{
    font-size: 18px;
  }
  a{
    color: blue;
    text-decoration: underline;
  }

</style>
