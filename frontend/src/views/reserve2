<template>
    <logo>
      <form class="form-2" action="#">
      <h1>Inscrivez-vous</h1>
      <input v-model="nom" placeholder="Nom"/>
      <input v-model="prenom" placeholder="Prenom"/>
      <input v-model="email" placeholder="Adresse e-mail professionnel"/>
      <input v-model="anniversaire" placeholder="Date de Naissance"/>
      <input v-model="motDePasse" placeholder="Mot de passe"/>

      <button class="btn-2" type="submit" :class="{'disabled': !validatedFields}" @click="signUserUp"> S'incrire </button>
      <p>Déjà un compte?<a @click="loginMode()">Connectez-vous</a></p>    
    </form>
    </logo>
    
</template>

<script>
  import logo from '../components/logo.vue';
  export default {
    name: 'signup',
    components: {
      logo
    },
    data: function(){
      return{
      nom:"",
      prenom:"",
      email:"",
      anniversaire:"",
      motDePasse:""
      }
    },
    computed:{
      validatedFields: function () {    
          if (this.nom != "" && this.prenom != "" && this.email != "" && this.anniversaire != "" && this.motDePasse != "") {
            return true;
          } else {
            return false;
          }
        }
      },
    methods:{
      loginMode: function(){
        this.$router.push('login');
      },
      signUserUp: function(){
        this.$store.dispatch('signUserUp',{
          nom: this.nom,
          prenom:this.prenom,
          email: this.email,
          anniversaire:this.anniversaire,
          motDePasse:this.motDePasse
        }).then((response) => {
            console.log(response)
          })
          .catch((error)=>{
            console.log(error);
          })
      }
    }
  }
</script>

<style>
 
</style>